const t=[];let e=!1;const n={pre:"snack",padding:"1rem 2rem",borderRadius:"5px",border:"unset",shadow:"0 2px 6px rgba(0,0,0,0.2)",top:"4.5rem",bottom:"1rem",width:"95%",pointerEvents:"auto"},o={SUCCESS:"success",ERROR:"error",WARNING:"warning",INFO:"info"},s={TOP:"top",BOTTOM:"bottom"},r={SUCCESS:{bg:"#a0f0c4",text:"#054321"},ERROR:{bg:"#fcbfbf",text:"#4f0808"},WARNING:{bg:"#fdff88",text:"#4e4f08"},INFO:{bg:"#a0e8f0",text:"#0f575f"}},i=(()=>{const i={...n},a={...o};let d={};function c(t,e){const n=getComputedStyle(document.documentElement).getPropertyValue(t);return n?n.trim():e}function p(t,e=null){return`--${i.pre||n.pre}-${t}${e?"-"+e:""}`}function u(){if(0===t.length)return void(e=!1);e=!0;const{message:n,type:a,position:c,duration:p,delay:l}=t.shift(),b=function(t){const e=`snackbar-container-${t}`;let n=document.getElementById(e);n||(n=document.createElement("div"),n.id=e,Object.assign(n.style,{position:"fixed",left:"50%",transform:"translateX(-50%)",pointerEvents:i.pointerEvents,zIndex:"9999",display:"flex",flexDirection:"column",width:i.width,top:t===s.TOP?i.top:"unset",bottom:t===s.BOTTOM?i.bottom:"unset"}),document.body.appendChild(n));return n}(c),g=function({message:t,type:e,position:n}){const a=document.createElement("div");a.textContent=t;const c=d[e]||{},p=function(t){const e=Object.keys(o).find(e=>o[e]===t)||"INFO";return r[e]||r.INFO}(e);return Object.assign(a.style,{backgroundColor:(c.bg?c.bg():void 0)??p.bg,color:(c.text?c.text():void 0)??p.text,padding:i.padding,borderRadius:i.borderRadius,border:i.border,boxShadow:i.shadow,opacity:0,transform:n===s.BOTTOM?"translateY(100%)":"translateY(-100%)",transition:"opacity 0.3s ease, transform 0.3s ease",pointerEvents:i.pointerEvents}),a}({message:n,type:a,position:c});b.appendChild(g),setTimeout(()=>{g.style.opacity="1",g.style.transform="translateY(0)"},l),setTimeout(()=>{!function(t,n){t.style.opacity="0",t.style.transform=n.id.includes(s.BOTTOM)?"translateY(100%)":"translateY(-100%)",t.addEventListener("transitionend",()=>{t.remove(),n.hasChildNodes()||n.remove(),e=!1,u()},{once:!0})}(g,b)},p+l)}return d={[a.SUCCESS]:{bg:()=>c(p("bg",a.SUCCESS),r.SUCCESS.bg),text:()=>c(p("text",a.SUCCESS),r.SUCCESS.text),position:s.BOTTOM},[a.ERROR]:{bg:()=>c(p("bg",a.ERROR),r.ERROR.bg),text:()=>c(p("text",a.ERROR),r.ERROR.text),position:s.BOTTOM},[a.WARNING]:{bg:()=>c(p("bg",a.WARNING),r.WARNING.bg),text:()=>c(p("text",a.WARNING),r.WARNING.text),position:s.TOP},[a.INFO]:{bg:()=>c(p("bg",a.INFO),r.INFO.bg),text:()=>c(p("text",a.INFO),r.INFO.text),position:s.TOP}},{show:function(n={}){const{message:o,type:r=a.SUCCESS,position:i=s.TOP,duration:c=5e3,delay:p=300}=n;o?(d[r]||console.warn(`Snackbar: unknown type "${r}". Using fallback style.`),t.push({message:o,type:r,position:i,duration:c,delay:p}),e||u()):console.warn("Snackbar: message param is required")},createCustom:function(t,e,n){if(!t||"string"!=typeof t)throw new Error("createCustom: key must be string");const o=n&&"string"==typeof n?n:t.toLowerCase();a[t]=o,d[o]=e},applyStyle:function(t={}){Object.assign(i,t)},setPrefixForVariables:function(t){t&&"string"==typeof t&&(i.pre=t)},TYPE:a,POSITION:s,TYPE_STYLES:d,config:i}})();export{i as Snackbar};
